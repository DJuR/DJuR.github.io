<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- 新 Bootstrap4 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<!-- popper.min.js 用于弹窗、提示、下拉菜单 -->
<script src="https://cdn.bootcss.com/popper.js/1.12.5/umd/popper.min.js"></script>

<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
<script src="https://cdn.bootcss.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>

<link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>

<link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
<link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
<link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

<title>python Django 框架</title>

</head>
<body data-spy="scroll" data-target=".navbar" data-offset="120" id="top">
    <header>
        <!--
nav-bg:
light
dark
primary
success
info
warning
danger
secondary


nav-bar:
light
dark

-->
<nav class="navbar navbar-expand-sm bg-light navbar-light fixed-top">
  	<ul class="navbar-nav">
		

            

            
                <li class="nav-item ">
                    <a class="nav-link" href="/">HOME</a>
                </l>
            
		

            

            
                <li class="nav-item ">
                    <a class="nav-link" href="/articles">ARTICLES</a>
                </l>
            
		

            

            
                <li class="nav-item ">
                    <a class="nav-link" href="/lists">LISTS</a>
                </l>
            
		

            

            
                <li class="nav-item ">
                    <a class="nav-link" href="/about">ABOUT ME</a>
                </l>
            
		

            

            
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="/categories" id="navbardrop" data-toggle="dropdown">
                        CATEGORIES
                    </a>
                    <div class="dropdown-menu">
                        
                            <a class="dropdown-item" href="">TOOLS</a>
                        
                            <a class="dropdown-item" href="">test2</a>
                        
                    </div>
                </li>
            
		
        
  	</ul>
</nav>

<div class="jumbotron jumbotron-fluid" style="background: #2e7bcf;padding-bottom: 0px;">
    <div class="container">
        <h1>人魚兒</h1>
        <p>IF YOU WANT TO DO IT, DO IT</p>
    </div>
</div>

        
    </header>
    <div class="container">
        
        <div id="main-content">
   <h2 id="python-django-框架">python Django 框架</h2>

<p><strong>Django</strong> 是一个高级的 Python Web框架，具有快速开发、干净、实用的设计等特性，它解决Web开发的许多常见问题，让开发者专注于应用程序。</p>

<ul>
  <li>安装 Django 或版本替换</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ pip3 install Django==2.0.1
</code></pre></div></div>

<ul>
  <li>卸载 Django</li>
</ul>

<p>卸载 Django直接删除Django包即可，通过下面命令查看Django安装路径</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 -c "import django;print(django.__path__)"
</code></pre></div></div>

<ul>
  <li>查看版本</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python -m django --version
</code></pre></div></div>

<h2 id="创建项目">创建项目</h2>

<ul>
  <li>创建一个mysite项目</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ django-admin.py startproject mysite
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>执行后的目录结构:
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysite/
    manage.py
    mysite/
        __init__.py
        settings.py
        urls.py
        wsgi.py
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysite/: 项目目录

manage.py: 管理工具

mysite/: 项目的Python目录

mysite/__init__.py: 一个空的文件，告诉python这个目录包含python包

mysite/settings.py: 项目的配置

mysite/urls.py: 项目URL的声明

mysite/wsgi.py: web服务的入口
</code></pre></div></div>

<ul>
  <li>运行项目</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 manage.py runserver
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>浏览器访问`http://127.0.0.1:8000`

默认端口8000,可设置制定端口:
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 manage.py runserver 8080
</code></pre></div></div>

<ul>
  <li>创建Polls应用：</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 manage.py startapp polls
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>生成polls目录结构:
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>polls/
__init__.py
admin.py
apps.py
migrations/
    __init__.py
models.py
tests.py
views.py
</code></pre></div></div>

<ul>
  <li>
    <p>写第一个view文件</p>

    <p>打开polls/views.py写入：</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from django.http import HttpResponse

def index(request):
    return HttpResponse("Hello, world. You're at the polls index.")

</code></pre></div></div>

<ul>
  <li>创建一个url配置 <code class="highlighter-rouge">polls/urls.py</code>:</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from django.urls import path

from . import views

urlpatterns = [
    path('', views.index, name='index'),
]
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>在mysite/urls.py中设置项目polls的url:
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from django.urls import include, path
from django.contrib import admin

urlpatterns = [
    path('polls/', include('polls.urls')),
    path('admin/', admin.site.urls),
]
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>浏览器访问:`http://127.0.0.1:8080/polls`
</code></pre></div></div>

<h2 id="数据库设置">数据库设置</h2>

<p>mysite/settings.py 项目变量配置文件默认的是SQLite数据库配置(SQLite包含在Python中)</p>

<p>Django已经把后端模块帮我准备好了，只需要执行数据库同步，把相关表生成出来即可：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python3 manage.py migrate
</code></pre></div></div>

<ul>
  <li>创建后端管理员账号:</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python manage.py createsuperuser
$ Username (leave blank to use 'fnngj'): admin    # 管理员帐号
$ Email address: admin@mail.com      # email
$ Password:                          # 密码
$ Password (again):                  # 重复密码
$ Superuser created successfully.
</code></pre></div></div>

<ul>
  <li>创建models <code class="highlighter-rouge">polls/models.py</code>:</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from django.db import models


class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')


class Choice(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    choice_text = models.CharField(max_length=200)
    votes = models.IntegerField(default=0)
</code></pre></div></div>

<p>编辑<code class="highlighter-rouge">nysite/setting.py</code>文件，添加polls应用:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> INSTALLED_APPS = [
    'polls.apps.PollsConfig',
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
</code></pre></div></div>

<h2 id="扩展阅读">扩展阅读</h2>

<ul>
  <li><a href="http://www.djangoproject.com">Django 官网</a></li>
</ul>


</div>


        <footer class="navbar-fixed-bottom">
    <p>Copyrigh &copy; 2018</p>
</footer>

    </div> 

    
<style type="text/css">
.back-to-top {
    /*display: none;*/
    opacity: .9;
    z-index: 999999;
    position: fixed;
    bottom: 100px;
    right: 5%;
    margin-left: 40px;
    width: 38px;
    height: 38px;
    border-radius: 3px;
    cursor: pointer;
    background-color: #f5f5f5;
    border: 1px solid #2e7bcf;
}
.x-arrow {
    position: absolute;
    left: 10px;
    top: -1px;
    width: 0;
    height: 0;
    border: 9px solid transparent;
    border-bottom-color: #2e7bcf;
}
.x-stick {
    position: absolute;
    left: 15px;
    top: 15px;
    width: 8px;
    height: 14px;
    display: block;
    border-radius: 1px;
    background-color: #2e7bcf;
}
</style>

<div class="back-to-top">
    <div class="x-arrow"></div>
    <div class="x-stick"></div>
</div>
<script type="text/javascript">
    $(function() {
    $(window).scroll(function() {
        if ($(window).scrollTop() > 1000)
            $('.back-to-top').show();
        else
            $('.back-to-top').hide();
    });
    $('.back-to-top').click(function() {
        console.log('a')
        $('html, body').animate({scrollTop: 0}, 1000);
    });
});
</script>
</body>
</html>
